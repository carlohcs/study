<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Decorator Pattern: Decorating Objects With Multiple Decorators</title>
		<meta charset="utf-8" />
	</head>
	<body>

		<h1>See working in console</h1>

		<script>

			// The constructor to decorate
			function MacBook() {
				
				this.cost = function () { return 997; };
				this.screenSize = function () { return 11.6; };
			}

			// Decorator 1
			function memory( macbook ) {
				
				var v = macbook.cost();
				macbook.cost = function () {
					return v + 75;
				};

			}

			// Decorator 2
			function insurance( macbook ) {
				
				var v = macbook.cost();
				macbook.cost = function () {
					return v + 250;
				};
				
			}

			var mb = new MacBook();
			memory( mb );
			insurance( mb );

			// Outputs: 1522
			console.log( mb.cost() );

			// Outputs: 11.6
			console.log( mb.screenSize() );

		</script>
	</body>
</html>