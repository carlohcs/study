<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Var and correction in function loops</title>
        <meta charset="utf-8" />
    </head>
    <body>

        <h1>See working in console</h1>

        <script>

          // var
          var funcs = [];

          for (var i=0; i < 10; i++) {
              funcs.push(function() { console.log(i); });
          }

          funcs.forEach(function(func) {
              func();     // outputs the number "10" ten times
          });

          // var correction
          var funcs = [];

          for (var i=0; i < 10; i++) {
              funcs.push((function(value) {
                  return function() {
                      console.log(value);
                  }
              }(i)));
          }

          funcs.forEach(function(func) {
              func();     // outputs 0, then 1, then 2, up to 9
          });

        </script>
    </body>
</html>
